(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40f041ea"],{"04c7":function(t,a,e){"use strict";function s(t,a){for(var e=0;e<a.length;e++){var s=a[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,a,e){return a&&s(t.prototype,a),e&&s(t,e),t}e.d(a,"a",(function(){return i}))},"053b":function(t,a,e){var s=e("1e2c"),i=e("d910").f,n=Function.prototype,r=n.toString,d=/^\s*function ([^ (]*)/,o="name";s&&!(o in n)&&i(n,o,{configurable:!0,get:function(){try{return r.call(this).match(d)[1]}catch(t){return""}}})},"0d7a":function(t,a,e){"use strict";var s=e("b2a2"),i=e("8a1c"),n=e("857c"),r=e("2732"),d=e("ef4c"),o=e("38eb"),c=e("d88d"),l=e("59da"),u=e("5139"),f=e("efe2"),p=[].push,h=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));s("split",2,(function(t,a,e){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var s=String(r(this)),n=void 0===e?v:e>>>0;if(0===n)return[];if(void 0===t)return[s];if(!i(t))return a.call(s,t,n);var d,o,c,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,f+"g");while(d=u.call(g,s)){if(o=g.lastIndex,o>h&&(l.push(s.slice(h,d.index)),d.length>1&&d.index<s.length&&p.apply(l,d.slice(1)),c=d[0].length,h=o,l.length>=n))break;g.lastIndex===d.index&&g.lastIndex++}return h===s.length?!c&&g.test("")||l.push(""):l.push(s.slice(h)),l.length>n?l.slice(0,n):l}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,e){var i=r(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,i,e):s.call(String(i),a,e)},function(t,i){var r=e(s,t,this,i,s!==a);if(r.done)return r.value;var u=n(t),f=String(this),p=d(u,RegExp),m=u.unicode,b=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),C=new p(g?u:"^(?:"+u.source+")",b),x=void 0===i?v:i>>>0;if(0===x)return[];if(0===f.length)return null===l(C,f)?[f]:[];var y=0,_=0,k=[];while(_<f.length){C.lastIndex=g?_:0;var w,S=l(C,g?f:f.slice(_));if(null===S||(w=h(c(C.lastIndex+(g?0:_)),f.length))===y)_=o(f,_,m);else{if(k.push(f.slice(y,_)),k.length===x)return k;for(var $=1;$<=S.length-1;$++)if(k.push(S[$]),k.length===x)return k;_=y=w}}return k.push(f.slice(y)),k}]}),!g)},1983:function(t,a,e){"use strict";function s(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}e.d(a,"a",(function(){return s}))},"2eeb":function(t,a,e){"use strict";var s=e("1c8b"),i=e("5dfd").map,n=e("1ea7"),r=e("ff9c"),d=n("map"),o=r("map");s({target:"Array",proto:!0,forced:!d||!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"2f14":function(t,a,e){"use strict";e.d(a,"a",(function(){return r}));e("b4fb"),e("77ad");var s=e("1983"),i=e("04c7"),n=function(){function t(){Object(s["a"])(this,t)}return Object(i["a"])(t,[{key:"queryString",value:function(t){var a="";for(var e in t)a+="".concat(e,"=").concat(t[e],"&");return a.slice(0,-1)}}]),t}(),r=new n},3174:function(t,a,e){},"5e6a":function(t,a,e){t.exports=e.p+"img/dingwei.38d12dc8.png"},"76a1":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pay"},[e("van-nav-bar",{attrs:{title:"提交订单","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":t.back}}),e("div",{staticClass:"address-box"},[e("div",{staticClass:"address"},[e("div",{staticClass:"address-content"},[e("div",{staticClass:"clearfix"},[e("div",{staticClass:"fl name"},[t._v(t._s(t.addressdata.name))]),e("div",{staticClass:"fl phone"},[t._v(t._s(t.addressdata.tel))]),e("div",{staticClass:"fr",on:{click:t.openAddressBox}},[t._m(0),e("div",{staticClass:"fl address-title"},[t._v("选择地址")])])]),e("div",{staticClass:"address-info clearfix"},[t._m(1),e("div",{staticClass:"fl"},[t._v(t._s(t.addressdata.address))])])])])]),e("div",{staticClass:"order-info"},[e("div",{staticClass:"order-box"},[e("div",{staticClass:"order-title"},[e("van-divider",{style:{color:"#5f56ff",borderColor:"#7e7e7e"}},[t._v("订单信息")])],1),e("div",{staticClass:"cellboxb"},t._l(t.shopbagData,(function(a,s){return e("div",{key:s,staticClass:"clearfix cell-box"},[e("div",{staticClass:"fl pro-img"},[e("img",{staticClass:"auto-img",attrs:{src:a.small_img,alt:""}})]),e("div",{staticClass:"fl pro-info"},[e("div",{staticClass:"text-box"},[e("div",{staticClass:"clearfix"},[e("div",{staticClass:"fl text-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"fl text-rule"},[t._v(t._s(a.rule))])]),e("div",{staticClass:"text-enname"},[t._v(t._s(a.enname))])]),e("div",{staticClass:"price-box"},[e("div",{staticClass:"fl price"},[t._v("￥"+t._s(a.price))]),e("div",{staticClass:"fr count"},[t._v("x"+t._s(a.count))])])])])})),0),e("div",{staticClass:"pro-box"},[e("div",{staticClass:"clearfix pro-boxing"},[e("div",{staticClass:"fl pro-count"},[t._v("共计 "+t._s(t.product.count)+" 件商品")]),e("div",{staticClass:"fr pro-total"},[t._v("合计 ￥"+t._s(t.product.total))])])])])]),e("div",{staticClass:"pay-btn"},[e("van-button",{attrs:{round:"",block:"",color:"#5f56ff"},on:{click:t.pay}},[t._v("立即结算")])],1),e("van-popup",{attrs:{position:"bottom",closeable:""},model:{value:t.isOpen,callback:function(a){t.isOpen=a},expression:"isOpen"}},[e("div",{staticClass:"address-title-box"},[t._v("选择收货地址")]),e("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认"},on:{select:t.selectaddress,add:t.newAddress},model:{value:t.addressaid,callback:function(a){t.addressaid=a},expression:"addressaid"}})],1)],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"fl arrow-box"},[s("img",{staticClass:"auto-img",attrs:{src:e("7f6d"),alt:""}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"dingwei fl"},[s("img",{staticClass:"auto-img",attrs:{src:e("5e6a"),alt:""}})])}],n=(e("2eeb"),e("053b"),e("e35a"),e("0d7a"),e("3174"),e("2f14")),r={data:function(){return{isOpen:!1,addressaid:"",list:[],addressdata:{name:"",tel:"",address:""},shopbagData:[],product:{count:0,total:0},sids:[]}},created:function(){this.sids=this.$route.query.sids.split("-"),this.getaddress(),this.getshopbagdata()},methods:{back:function(){this.$router.go(-1)},openAddressBox:function(){this.isOpen=!0},getaddress:function(){var t=this,a=localStorage.getItem("CSTK");a&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findAddress",params:{appkey:this.appkey,tokenString:a}}).then((function(a){t.$toast.clear(),2e4==a.data.code&&a.data.result.map((function(a){var e=a.province+a.city+a.county+a.addressDetail;t.list.push({id:a.aid,name:a.name,tel:a.tel,address:e,isDefault:Boolean(a.isDefault)}),Boolean(a.isDefault)&&(t.addressaid=a.aid,t.addressdata.name=a.name,t.addressdata.tel=a.tel,t.addressdata.address=e)}))})).catch((function(a){t.$toast.clear()})))},getshopbagdata:function(){var t=this,a=localStorage.getItem("CSTK");a&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/commitShopcart",params:{appkey:this.appkey,tokenString:a,sids:JSON.stringify(this.sids)}}).then((function(a){if(t.$toast.clear(),5e4==a.data.code){if(0===a.data.result.length)return t.$router.push({name:"Menu"});a.data.result.map((function(a){t.product.count+=a.count,t.product.total+=a.count*a.price})),t.shopbagData=a.data.result}})).catch((function(a){t.$toast.clear()})))},selectaddress:function(t){for(var a in this.addressdata)this.addressdata[a]=t[a]},newAddress:function(){this.$router.push({name:"NewAddress"})},pay:function(){var t=this;if(""!=this.addressaid){var a=localStorage.getItem("CSTK");if(a){var e=n["a"].queryString({appkey:this.appkey,tokenString:a,sids:JSON.stringify(this.sids),phone:this.addressdata.tel,address:this.addressdata.address,receiver:this.addressdata.name});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/pay",data:e}).then((function(a){t.$toast.clear(),t.$toast(a.data.msg),6e4==a.data.code&&t.$router.push({name:"Order"})})).catch((function(a){t.$toast.clear()}))}}else this.$toast("请选择收货地址")}}},d=r,o=e("9ca4"),c=Object(o["a"])(d,s,i,!1,null,null,null);a["default"]=c.exports},"7f6d":function(t,a,e){t.exports=e.p+"img/dizhi.8e07c186.png"},b4fb:function(t,a,e){"use strict";var s=e("1c8b"),i=e("efe2"),n=e("74e7"),r=e("a719"),d=e("3553"),o=e("d88d"),c=e("1bbd"),l=e("1ca1"),u=e("1ea7"),f=e("90fb"),p=e("f594"),h=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",m=p>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=u("concat"),C=function(t){if(!r(t))return!1;var a=t[h];return void 0!==a?!!a:n(t)},x=!m||!b;s({target:"Array",proto:!0,forced:x},{concat:function(t){var a,e,s,i,n,r=d(this),u=l(r,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(n=-1===a?r:arguments[a],C(n)){if(i=o(n.length),f+i>v)throw TypeError(g);for(e=0;e<i;e++,f++)e in n&&c(u,f,n[e])}else{if(f>=v)throw TypeError(g);c(u,f++,n)}return u.length=f,u}})}}]);
//# sourceMappingURL=chunk-40f041ea.4863d603.js.map